В работе часто приходится применять системы автоматической генерации конфигураций. Для изучения нюансов использования разных инструментов нужно попробовать упаковать приложение каждым из них.

## Задание 1: подготовить helm чарт для приложения
Необходимо упаковать приложение в чарт для деплоя в разные окружения. Требования:
* каждый компонент приложения деплоится отдельным deployment’ом/statefulset’ом;
* в переменных чарта измените образ приложения для изменения версии.

```bash
lsd@nuc:~/kubernetes-for-beginners/40-helm/01-templating/charts$ helm install demo-release 01-simple
NAME: demo-release
LAST DEPLOYED: Tue Nov 29 11:20:56 2022
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
---------------------------------------------------------

Content of NOTES.txt appears after deploy.
Deployed version 1.16.0.

---------------------------------------------------------

lsd@nuc:~/kubernetes-for-beginners/40-helm/01-templating/charts$ helm upgrade demo-release 01-simple
Release "demo-release" has been upgraded. Happy Helming!
NAME: demo-release
LAST DEPLOYED: Tue Nov 29 11:52:03 2022
NAMESPACE: default
STATUS: deployed
REVISION: 2
TEST SUITE: None
NOTES:
---------------------------------------------------------

Content of NOTES.txt appears after deploy.
Deployed version 1.20.0.

---------------------------------------------------------
```

## Задание 2: запустить 2 версии в разных неймспейсах
Подготовив чарт, необходимо его проверить. Попробуйте запустить несколько копий приложения:
* одну версию в namespace=app1;

```bash
lsd@nuc:~/kubernetes-for-beginners/40-helm/01-templating/charts$ helm install demo-release --namespace app1 01-simple
NAME: demo-release
LAST DEPLOYED: Tue Nov 29 12:09:26 2022
NAMESPACE: app1
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
---------------------------------------------------------

Content of NOTES.txt appears after deploy.
Deployed version 1.20.0.
```

* вторую версию в том же неймспейсе;

```bash
lsd@nuc:~/kubernetes-for-beginners/40-helm/01-templating/charts$ helm upgrade  demo-release --namespace app1 01-simpleRelease "demo-release" has been upgraded. Happy Helming!
NAME: demo-release
LAST DEPLOYED: Tue Nov 29 15:33:24 2022
NAMESPACE: app1
STATUS: deployed
REVISION: 2
TEST SUITE: None
NOTES:
---------------------------------------------------------

Content of NOTES.txt appears after deploy.
Deployed version 1.22.0.

---------------------------------------------------------
```


* третью версию в namespace=app2.

```bash
lsd@nuc:~/kubernetes-for-beginners/40-helm/01-templating/charts$ helm install  demo-release --namespace app2 01-simple
NAME: demo-release
LAST DEPLOYED: Tue Nov 29 15:48:11 2022
NAMESPACE: app2
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
---------------------------------------------------------

Content of NOTES.txt appears after deploy.
Deployed version 1.21.0.

---------------------------------------------------------
```

```bash
lsd@nuc:~/kubernetes-for-beginners/40-helm/01-templating/charts$ helm list -n app1
NAME            NAMESPACE       REVISION        UPDATED                                 STATUS          CHART           APP VERSION
demo-release    app1            2               2022-11-29 15:33:24.391177328 +0300 MSK deployed        hard-0.1.2      1.22.0     
lsd@nuc:~/kubernetes-for-beginners/40-helm/01-templating/charts$ helm list -n app2
NAME            NAMESPACE       REVISION        UPDATED                                 STATUS          CHART           APP VERSION
demo-release    app2            1               2022-11-29 15:48:11.41014843 +0300 MSK  deployed        hard-0.1.2      1.21.0     
```

```bash
lsd@nuc:~/kubernetes-for-beginners/40-helm/01-templating/charts$ helm rollback demo-release 1 -n app1
Rollback was a success! Happy Helming!
lsd@nuc:~/kubernetes-for-beginners/40-helm/01-templating/charts$ helm status demo-release -n app1
NAME: demo-release
LAST DEPLOYED: Tue Nov 29 15:56:31 2022
NAMESPACE: app1
STATUS: deployed
REVISION: 3
TEST SUITE: None
NOTES:
---------------------------------------------------------

Content of NOTES.txt appears after deploy.
Deployed version 1.20.0.

---------------------------------------------------------
```